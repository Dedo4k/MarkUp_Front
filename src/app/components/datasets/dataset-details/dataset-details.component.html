<div class="content-wrapper">
  <div class="row-wrapper">
    <div class="file-loading-wrapper">
      <mat-card>
        <mat-card-header>
          <mat-card-title>{{name}} ({{storage.cursor + 1}}/{{storage.names.length}})</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div *ngIf="storage.downloading">
            <mat-progress-bar #fileProgressBar mode="determinate"
                              value="{{storage.dataset.length / storage.maxSize * 100}}"></mat-progress-bar>
            {{storage.dataset.length}}/{{storage.maxSize}}
          </div>
          <mat-selection-list multiple="false" hideSingleSelectionIndicator="true">
            <mat-list-option *ngFor="let data of storage.dataset"
                             selected="{{data == storage.current()}}">
              <div matListItemTitle>{{data.dataName}}</div>
            </mat-list-option>
          </mat-selection-list>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="file-display-wrapper">
      <mat-card *ngIf="storage.current() != null">
        <mat-card-header>
          <mat-card-title>{{storage.current().datasetName}} / {{storage.current().dataName}}</mat-card-title>
          <span class="header-spacer"></span>
          <button mat-raised-button color="accent" (click)="storage.prev()">Prev</button>
          <button mat-raised-button color="accent" (click)="storage.next()">Next</button>
        </mat-card-header>
        <mat-card-content>
          <div class="img-wrapper">
            <img src="data:image/jpeg;base64,{{storage.current().imageBytes}}" alt="">
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
